{"ast":null,"code":"import axios from 'axios';\nimport { history } from '../appRedux/store';\nimport { getTokenFromLocalStorage, signOutFromLocalStorage } from './utils';\nexport const restClient = (route, method, data = null) => {\n  return axios({\n    url: route,\n    method: method,\n    data: data,\n    headers: {\n      'Authorization': `Bearer ${getTokenFromLocalStorage()}`\n    },\n    json: true\n  }).then(response => {\n    return Promise.resolve(response.data);\n  }).catch(error => {\n    if (error.response) {\n      if (error.response.status === 401) {\n        signOutFromLocalStorage();\n        const location = {\n          pathname: '/signin',\n          state: {\n            isAuthentication: false,\n            from: {\n              pathname: window.location.pathname,\n              search: \"\",\n              hash: \"\",\n              state: undefined\n            }\n          }\n        };\n        history.push(location);\n      }\n\n      return Promise.reject(error.response.data);\n    } else if (error.request) {\n      return Promise.reject(getUnknownError());\n    } else {\n      return Promise.reject(getUnknownError());\n    }\n  });\n};\nexport const restClientWithOutAuth = (route, method, data = null) => {\n  return axios({\n    url: route,\n    method: method,\n    data: data,\n    json: true\n  }).then(response => {\n    return Promise.resolve(response.data);\n  }).catch(error => {\n    if (error.response) {\n      return Promise.reject(error.response.data);\n    } else if (error.request) {\n      return Promise.reject(getUnknownError());\n    } else {\n      return Promise.reject(getUnknownError());\n    }\n  });\n};\n\nconst getUnknownError = () => {\n  return {\n    hasError: true,\n    data: null,\n    code: 500,\n    message: \"Ha ocurrido un error contacte con el soporte\"\n  };\n};","map":{"version":3,"sources":["/Users/renysdelacruz/Downloads/ProyectoFinal-WebAvanzada-master/proyecto_final_frontend/src/rayoDevCore/restClient.js"],"names":["axios","history","getTokenFromLocalStorage","signOutFromLocalStorage","restClient","route","method","data","url","headers","json","then","response","Promise","resolve","catch","error","status","location","pathname","state","isAuthentication","from","window","search","hash","undefined","push","reject","request","getUnknownError","restClientWithOutAuth","hasError","code","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,wBAAT,EAAmCC,uBAAnC,QAAkE,SAAlE;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgBC,IAAI,GAAG,IAAvB,KAAgC;AACxD,SAAOP,KAAK,CACV;AACEQ,IAAAA,GAAG,EAAEH,KADP;AAEEC,IAAAA,MAAM,EAAEA,MAFV;AAGEC,IAAAA,IAAI,EAAEA,IAHR;AAIEE,IAAAA,OAAO,EAAE;AACP,uBAAkB,UAASP,wBAAwB,EAAG;AAD/C,KAJX;AAOEQ,IAAAA,IAAI,EAAE;AAPR,GADU,CAAL,CAULC,IAVK,CAUCC,QAAD,IAAc;AACnB,WAAOC,OAAO,CAACC,OAAR,CAAgBF,QAAQ,CAACL,IAAzB,CAAP;AACD,GAZM,EAYJQ,KAZI,CAYGC,KAAD,IAAW;AAClB,QAAIA,KAAK,CAACJ,QAAV,EAAoB;AAClB,UAAII,KAAK,CAACJ,QAAN,CAAeK,MAAf,KAA0B,GAA9B,EAAmC;AACjCd,QAAAA,uBAAuB;AACvB,cAAMe,QAAQ,GAAG;AACfC,UAAAA,QAAQ,EAAE,SADK;AAEfC,UAAAA,KAAK,EAAE;AACLC,YAAAA,gBAAgB,EAAE,KADb;AAELC,YAAAA,IAAI,EAAE;AAAEH,cAAAA,QAAQ,EAAEI,MAAM,CAACL,QAAP,CAAgBC,QAA5B;AAAsCK,cAAAA,MAAM,EAAE,EAA9C;AAAkDC,cAAAA,IAAI,EAAE,EAAxD;AAA4DL,cAAAA,KAAK,EAAEM;AAAnE;AAFD;AAFQ,SAAjB;AAQAzB,QAAAA,OAAO,CAAC0B,IAAR,CAAaT,QAAb;AACD;;AACD,aAAOL,OAAO,CAACe,MAAR,CAAeZ,KAAK,CAACJ,QAAN,CAAeL,IAA9B,CAAP;AACD,KAdD,MAcO,IAAIS,KAAK,CAACa,OAAV,EAAmB;AACxB,aAAOhB,OAAO,CAACe,MAAR,CAAeE,eAAe,EAA9B,CAAP;AACD,KAFM,MAEA;AACL,aAAOjB,OAAO,CAACe,MAAR,CAAeE,eAAe,EAA9B,CAAP;AACD;AACF,GAhCM,CAAP;AAiCD,CAlCM;AAoCP,OAAO,MAAMC,qBAAqB,GAAG,CAAC1B,KAAD,EAAQC,MAAR,EAAgBC,IAAI,GAAG,IAAvB,KAAgC;AACnE,SAAOP,KAAK,CACV;AACEQ,IAAAA,GAAG,EAAEH,KADP;AAEEC,IAAAA,MAAM,EAAEA,MAFV;AAGEC,IAAAA,IAAI,EAAEA,IAHR;AAIEG,IAAAA,IAAI,EAAE;AAJR,GADU,CAAL,CAOLC,IAPK,CAOCC,QAAD,IAAc;AACnB,WAAOC,OAAO,CAACC,OAAR,CAAgBF,QAAQ,CAACL,IAAzB,CAAP;AACD,GATM,EASJQ,KATI,CASGC,KAAD,IAAW;AAClB,QAAIA,KAAK,CAACJ,QAAV,EAAoB;AAClB,aAAOC,OAAO,CAACe,MAAR,CAAeZ,KAAK,CAACJ,QAAN,CAAeL,IAA9B,CAAP;AACD,KAFD,MAEO,IAAIS,KAAK,CAACa,OAAV,EAAmB;AACxB,aAAOhB,OAAO,CAACe,MAAR,CAAeE,eAAe,EAA9B,CAAP;AACD,KAFM,MAEA;AACL,aAAOjB,OAAO,CAACe,MAAR,CAAeE,eAAe,EAA9B,CAAP;AACD;AACF,GAjBM,CAAP;AAkBD,CAnBM;;AAqBP,MAAMA,eAAe,GAAG,MAAM;AAC5B,SAAO;AACLE,IAAAA,QAAQ,EAAE,IADL;AAELzB,IAAAA,IAAI,EAAE,IAFD;AAGL0B,IAAAA,IAAI,EAAE,GAHD;AAILC,IAAAA,OAAO,EAAE;AAJJ,GAAP;AAMD,CAPD","sourcesContent":["import axios from 'axios';\nimport { history } from '../appRedux/store'\nimport { getTokenFromLocalStorage, signOutFromLocalStorage } from './utils';\n\nexport const restClient = (route, method, data = null) => {\n  return axios(\n    {\n      url: route,\n      method: method,\n      data: data,\n      headers: {\n        'Authorization': `Bearer ${getTokenFromLocalStorage()}`\n      },\n      json: true,\n    }\n  ).then((response) => {\n    return Promise.resolve(response.data);\n  }).catch((error) => {\n    if (error.response) {\n      if (error.response.status === 401) {\n        signOutFromLocalStorage();\n        const location = {\n          pathname: '/signin',\n          state: {\n            isAuthentication: false,\n            from: { pathname: window.location.pathname, search: \"\", hash: \"\", state: undefined }\n          }\n\n        };\n        history.push(location);\n      }\n      return Promise.reject(error.response.data);\n    } else if (error.request) {\n      return Promise.reject(getUnknownError());\n    } else {\n      return Promise.reject(getUnknownError());\n    }\n  })\n}\n\nexport const restClientWithOutAuth = (route, method, data = null) => {\n  return axios(\n    {\n      url: route,\n      method: method,\n      data: data,\n      json: true\n    }\n  ).then((response) => {\n    return Promise.resolve(response.data);\n  }).catch((error) => {\n    if (error.response) {\n      return Promise.reject(error.response.data);\n    } else if (error.request) {\n      return Promise.reject(getUnknownError());\n    } else {\n      return Promise.reject(getUnknownError());\n    }\n  });\n}\n\nconst getUnknownError = () => {\n  return {\n    hasError: true,\n    data: null,\n    code: 500,\n    message: \"Ha ocurrido un error contacte con el soporte\"\n  }\n};\n"]},"metadata":{},"sourceType":"module"}